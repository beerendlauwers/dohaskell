--------------------------------------------------------------------------------
-- User

User
    name            Text
    displayName     Text Maybe
    isAdministrator Bool
    UniqueUserName name
    deriving Typeable

--------------------------------------------------------------------------------
-- Resource

Resource
    title  Text
    url    Text
    type   ResourceType
    userId UserId
    posted UTCTime
    UniqueResourceUrl url

Comment
    resourceId ResourceId
    userId     UserId
    posted     UTCTime
    text       Textarea

Tag
    text Text
    UniqueTagText text

ResourceTag
    resourceId ResourceId
    tagId      TagId
    UniqueResourceTag resourceId tagId

PendingResourceEdit
    resourceId ResourceId
    title      Text
    type       ResourceType

PendingResourceEditTag
    pendingResourceEditId PendingResourceEditId
    -- Not a TagId, because we don't want to insert every requested tag change.
    -- Only when the edit is approved, a Tag with the given text is inserted.
    tag Text
    UniquePendingResourceEditTag pendingResourceEditId tag
